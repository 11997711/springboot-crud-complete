<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>Learning Spring Boot</title>
	<!-- Bootstrap CSS -->
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.rtl.min.css"
		integrity="sha384-7mQhpDl5nRA5nY9lr8F1st2NbIly/8WqhjTp+0oFxEA/QUuvlbF6M1KXezGBh3Nb" crossorigin="anonymous">
</head>

<body>
	<h3>Spring Boot API crud completo</h3>

	<form action="" id="formCadastroUser">
		<div class="mb-3">
			<label for="id" class="form-label">Id Usuario</label>
			<input type="text" class="form-control" id="id" readonly="readonly">
		</div>

		<div class="mb-3">
			<label for="nome" class="form-label">Nome Usuario</label>
			<input type="text" class="form-control" id="nome" placeholder="informe o nome" required="required">
		</div>

		<div class="mb-3">
			<label for="idade" class="form-label">Idade</label>
			<input type="number" class="form-control" id="idade" placeholder="informe a sua idade">
		</div>

	</form>

	<button type="button" class="btn btn-primary" onclick="salvarUsuario()">Salvar</button>
	<button type="button" class="btn btn-secondary" onclick="document.getElementById('formCadastroUser').reset();">Novo Usuario</button>

	<!-- Jquery abaixo -->
	<script src="https://code.jquery.com/jquery-3.6.1.min.js"
		integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ=" crossorigin="anonymous"></script>

	<script type="text/javascript">
		function salvarUsuario() {
			var id =    $("#id").val();
			var nome =  $("#nome").val();
			var idade = $("#idade").val();

			alert("Usuario :" + nome + " salvo com sucesso , você tem " + idade + " anos")
			
			$.ajax({
				method: "POST",
				url: "salvar",
				data: JSON.stringify({id: id, nome: nome, idade: idade}),
				contentType: "application/json; charset-utf-8",
				success: function(response){
					alert("Usuario cadastrado com sucesso" )
				}
			
						
			}).fail (function(xhr, status, errorThrow){
				alert("Erro ao salvar usuário" +xhr.responseText)
			});
		}
	</script>

	
	<!-- Optional JavaScript; choose one of the two! -->

	<!-- Option 1: Bootstrap Bundle with Popper -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
		crossorigin="anonymous"></script>
</body>

</html>